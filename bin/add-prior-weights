#!/usr/bin/env python

__doc__ = "a script that computes the prior weight based on a set of samples (and a few known priors implemented in LALInference, adding them to a CSV file so they can be properly accounted for within KDEs developed within, e.g., weigh-samples"
__author__ = "reed.essick@ligo.org"

#-------------------------------------------------

import numpy as np

from argparse import ArgumentParser

### non-standard libraries
from universality import utils
from universality import priors

#-------------------------------------------------

parser = ArgumentParser(description=__doc__)

parser.add_argument('prior', type=str,
    help='the prior to be computed. Must be one of: %s'%(', '.join(priors.KNOWN_PRIORS)))
parser.add_argument('source', type=str,
    help='the CSV file for which the prior will be calculated for each sample')
parser.add_argument('output', default=None, type=str, 
    help='if not specified, will overwrite the source file')

parser.add_argument('-v', '--verbose', default=False, action='store_true')

args = parser.parse_args()
assert args.prior in priors.KNOWN_PRIORS, 'prior=%s not understood! must be one of %s'%(args.prior, ', '.join(priors.KNOWN_PRIORS))

#-------------------------------------------------

raise NotImplementedError('''
load samples
compute prior for each sample
add it into the array
write the resulting array into a CSV
''')
